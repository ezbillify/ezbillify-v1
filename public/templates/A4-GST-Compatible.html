<!-- A4-GST-Compatible.html - Professional Black & White GST Template -->
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>{{DOCUMENT_TYPE_LABEL}} - {{DOCUMENT_NUMBER}}</title>

  <!-- Modern font stack with Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    @page {
      size: A4;
      margin: 10mm;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-size: 10px;
      line-height: 1.4;
      color: #000;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Main Container */
    .invoice-container {
      border: 3px solid #000;
      padding: 0;
    }

    /* Header Section */
    .invoice-header {
      text-align: center;
      padding: 8mm 5mm 5mm 5mm;
      border-bottom: 2px solid #000;
    }

    .invoice-title {
      font-size: 18px;
      font-weight: 800;
      letter-spacing: 2px;
      text-transform: uppercase;
      margin-bottom: 5mm;
    }

    .header-grid {
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      gap: 5mm;
      align-items: start;
    }

    .company-info {
      text-align: left;
    }

    .company-name {
      font-size: 16px;
      font-weight: 800;
      text-transform: uppercase;
      margin-bottom: 2mm;
    }

    .company-address {
      font-size: 9px;
      line-height: 1.5;
      margin-bottom: 3mm;
    }

    .company-gstin {
      font-size: 9px;
      margin-bottom: 1mm;
    }

    .company-fssai {
      font-size: 9px;
    }

    .contact-info {
      text-align: right;
    }

    .contact-title {
      font-size: 12px;
      font-weight: 700;
      margin-bottom: 2mm;
    }

    .contact-phone {
      font-size: 10px;
      margin-bottom: 1mm;
    }

    .contact-email {
      font-size: 9px;
    }

    /* Invoice Details Section */
    .invoice-details {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0;
      border-bottom: 2px solid #000;
    }

    .invoice-details-left {
      padding: 4mm;
      border-right: 2px solid #000;
    }

    .invoice-details-right {
      padding: 4mm;
    }

    .detail-row {
      display: flex;
      font-size: 9px;
      margin-bottom: 2mm;
    }

    .detail-row:last-child {
      margin-bottom: 0;
    }

    .detail-label {
      min-width: 120px;
      font-weight: 600;
    }

    .detail-value {
      font-weight: 500;
    }

    /* Bill To / Ship To Section */
    .party-section {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0;
      border-bottom: 2px solid #000;
    }

    .bill-to, .ship-to {
      padding: 4mm;
    }

    .bill-to {
      border-right: 2px solid #000;
    }

    .party-header {
      font-weight: 700;
      font-size: 10px;
      text-transform: uppercase;
      margin-bottom: 3mm;
    }

    .party-name {
      font-weight: 700;
      font-size: 11px;
      margin-bottom: 2mm;
    }

    .party-address {
      font-size: 9px;
      line-height: 1.5;
      margin-bottom: 2mm;
    }

    .party-gstin {
      font-size: 9px;
    }

    /* Items Table */
    .items-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 10px;
    }

    .items-table thead tr {
      background: #f5f5f5;
    }

    .items-table th {
      padding: 3mm 2mm;
      text-align: center;
      font-weight: 700;
      font-size: 9px;
      text-transform: uppercase;
      border-bottom: 2px solid #000;
      border-right: 1px solid #ddd;
      vertical-align: middle;
    }

    .items-table th:first-child {
      text-align: center;
    }

    .items-table th:nth-child(2) {
      text-align: left;
      padding-left: 3mm;
    }

    .items-table th:last-child {
      border-right: none;
    }

    .items-table td {
      padding: 3mm 2mm;
      border-bottom: 1px solid #ddd;
      border-right: 1px solid #ddd;
      vertical-align: middle;
      text-align: center;
    }

    /* Column-specific styles */
    .items-table td.col-slno {
      text-align: center;
      font-weight: 600;
    }

    .items-table td.col-item {
      text-align: left;
      padding-left: 3mm;
      font-weight: 500;
    }

    .items-table td.col-mrp {
      text-align: right;
      padding-right: 3mm;
      font-family: 'Courier New', monospace;
    }

    .items-table td.col-hsn {
      text-align: center;
    }

    .items-table td.col-rate {
      text-align: right;
      padding-right: 3mm;
      font-family: 'Courier New', monospace;
    }

    .items-table td.col-disc {
      text-align: center;
    }

    .items-table td.col-qty {
      text-align: center;
    }

    .items-table td.col-taxable {
      text-align: right;
      padding-right: 3mm;
      font-family: 'Courier New', monospace;
    }

    .items-table td.col-cgst {
      text-align: right;
      padding-right: 3mm;
      font-family: 'Courier New', monospace;
      font-size: 9px;
    }

    .items-table td.col-sgst {
      text-align: right;
      padding-right: 3mm;
      font-family: 'Courier New', monospace;
      font-size: 9px;
    }

    .items-table td.col-amount {
      text-align: right;
      padding-right: 3mm;
      font-family: 'Courier New', monospace;
      font-weight: 600;
      border-right: none;
    }

    .items-table tbody tr:last-child td {
      border-bottom: 2px solid #000;
    }

    .items-table tbody tr.total-row {
      background: #f5f5f5;
      font-weight: 700;
    }

    .items-table tbody tr.total-row td {
      padding: 3mm;
      font-size: 10px;
    }

    .text-left { text-align: left; }
    .text-center { text-align: center; }
    .text-right { text-align: right; }
    .font-semibold { font-weight: 600; }
    .font-mono { font-family: 'Courier New', monospace; }

    /* Bottom Section */
    .bottom-section {
      display: grid;
      grid-template-columns: 1fr 1fr 300px;
      gap: 0;
      border-bottom: 2px solid #000;
    }

    .qr-section {
      padding: 4mm;
      border-right: 2px solid #000;
      text-align: center;
    }

    .qr-title {
      font-weight: 700;
      font-size: 10px;
      margin-bottom: 2mm;
    }

    .qr-code {
      width: 120px;
      height: 120px;
      margin: 0 auto 2mm;
      border: 2px solid #000;
      padding: 2mm;
    }

    .qr-note {
      font-size: 8px;
      line-height: 1.4;
    }

    .bank-section {
      padding: 4mm;
      border-right: 2px solid #000;
    }

    .bank-title {
      font-weight: 700;
      font-size: 10px;
      margin-bottom: 3mm;
    }

    .bank-row {
      font-size: 9px;
      margin-bottom: 1.5mm;
    }

    .bank-row:last-child {
      margin-bottom: 0;
    }

    .totals-section {
      padding: 0;
    }

    .total-row {
      display: flex;
      justify-content: space-between;
      padding: 2.5mm 4mm;
      border-bottom: 1px solid #ddd;
      font-size: 9px;
    }

    .total-row:last-child {
      border-bottom: none;
    }

    .total-row.highlight {
      background: #f5f5f5;
      font-weight: 600;
    }

    .total-row.grand-total {
      background: #000;
      color: #fff;
      font-weight: 700;
      font-size: 11px;
      padding: 3mm 4mm;
    }

    /* Savings Banner */
    .savings-banner {
      background: #fff;
      padding: 3mm;
      text-align: center;
      font-size: 12px;
      font-weight: 700;
      color: #000;
      border-bottom: 2px solid #000;
    }

    /* Tax Breakdown */
    .tax-breakdown {
      padding: 4mm;
      border-bottom: 2px solid #000;
    }

    .tax-breakdown-title {
      font-weight: 700;
      font-size: 10px;
      margin-bottom: 3mm;
    }

    .tax-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 9px;
    }

    .tax-table th {
      padding: 3mm 2mm;
      text-align: center;
      font-weight: 700;
      font-size: 9px;
      background: #f5f5f5;
      border: 1px solid #ddd;
      text-transform: uppercase;
    }

    .tax-table td {
      padding: 3mm 2mm;
      text-align: center;
      border: 1px solid #ddd;
      font-weight: 500;
    }

    .tax-table td:nth-child(2),
    .tax-table td:nth-child(4),
    .tax-table td:nth-child(6),
    .tax-table td:nth-child(7) {
      text-align: right;
      padding-right: 3mm;
      font-family: 'Courier New', monospace;
    }

    .tax-table td:first-child {
      text-align: center;
      font-weight: 600;
    }

    .tax-table td:nth-child(3),
    .tax-table td:nth-child(5) {
      text-align: center;
    }

    /* Delivery Note */
    .delivery-note {
      padding: 3mm 4mm;
      font-size: 9px;
      text-align: center;
      border-bottom: 2px solid #000;
    }

    /* Footer */
    .invoice-footer {
      text-align: center;
      padding: 3mm;
      font-size: 8px;
      line-height: 1.4;
    }

    /* Print Optimization */
    @media print {
      body {
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
      }
    }
  </style>
</head>
<body>
  <div class="invoice-container">

    <!-- Header Section -->
    <div class="invoice-header">
      <div class="invoice-title">{{DOCUMENT_TYPE_LABEL}}</div>
      <div class="header-grid">
        <!-- Company Info -->
        <div class="company-info">
          <div class="company-name">{{COMPANY_NAME}}</div>
          {{#if BRANCH_NAME}}
          <div class="company-address">{{{BRANCH_ADDRESS}}}</div>
          {{else}}
          <div class="company-address">{{{COMPANY_ADDRESS}}}</div>
          {{/if}}
          {{#if COMPANY_GSTIN}}
          <div class="company-gstin">GSTIN: {{COMPANY_GSTIN}}</div>
          {{/if}}
          {{#if COMPANY_FSSAI}}
          <div class="company-fssai">FSSAI NO: {{COMPANY_FSSAI}}</div>
          {{/if}}
        </div>

        <!-- Logo Placeholder (optional) -->
        <div style="width: 80px;"></div>

        <!-- Contact Info -->
        <div class="contact-info">
          <div class="contact-title">CONTACT US</div>
          {{#if BRANCH_PHONE}}
          <div class="contact-phone">ðŸ“ž {{BRANCH_PHONE}}</div>
          {{else}}
            {{#if COMPANY_PHONE}}
            <div class="contact-phone">ðŸ“ž {{COMPANY_PHONE}}</div>
            {{/if}}
          {{/if}}
          {{#if BRANCH_EMAIL}}
          <div class="contact-email">âœ‰ {{BRANCH_EMAIL}}</div>
          {{else}}
            {{#if COMPANY_EMAIL}}
            <div class="contact-email">âœ‰ {{COMPANY_EMAIL}}</div>
            {{/if}}
          {{/if}}
        </div>
      </div>
    </div>

    <!-- Invoice Details Section -->
    <div class="invoice-details">
      <div class="invoice-details-left">
        <div class="detail-row">
          <div class="detail-label">INVOICE NO</div>
          <div class="detail-value">: {{DOCUMENT_NUMBER}}</div>
        </div>
        <div class="detail-row">
          <div class="detail-label">INVOICE DATE</div>
          <div class="detail-value">: {{DOCUMENT_DATE}}</div>
        </div>
        {{#if PAYMENT_TYPE}}
        <div class="detail-row">
          <div class="detail-label">PAYMENT TYPE</div>
          <div class="detail-value">: {{PAYMENT_TYPE}}</div>
        </div>
        {{/if}}
      </div>
      <div class="invoice-details-right">
        {{#if PLACE_OF_SUPPLY}}
        <div class="detail-row">
          <div class="detail-label">PLACE OF SUPPLY</div>
          <div class="detail-value">: {{PLACE_OF_SUPPLY}}</div>
        </div>
        {{/if}}
        {{#if CUSTOMER_PHONE}}
        <div class="detail-row">
          <div class="detail-label">CONTACT NUMBER</div>
          <div class="detail-value">: {{CUSTOMER_PHONE}}</div>
        </div>
        {{/if}}
        {{#if CUSTOMER_EMAIL}}
        <div class="detail-row">
          <div class="detail-label">EMAIL ADDRESS</div>
          <div class="detail-value">: {{CUSTOMER_EMAIL}}</div>
        </div>
        {{/if}}
      </div>
    </div>

    <!-- Bill To / Ship To Section -->
    <div class="party-section">
      <div class="bill-to">
        <div class="party-header">BILL TO</div>
        <div class="party-name">{{CUSTOMER_NAME}}</div>
        {{#if CUSTOMER_ADDRESS}}
        <div class="party-address">{{{CUSTOMER_ADDRESS}}}</div>
        {{/if}}
        {{#if CUSTOMER_GSTIN}}
        <div class="party-gstin">GSTIN: {{CUSTOMER_GSTIN}}</div>
        {{/if}}
      </div>
      <div class="ship-to">
        <div class="party-header">SHIP TO</div>
        <div class="party-name">{{CUSTOMER_NAME}}</div>
        {{#if CUSTOMER_ADDRESS}}
        <div class="party-address">{{{CUSTOMER_ADDRESS}}}</div>
        {{/if}}
        {{#if CUSTOMER_GSTIN}}
        <div class="party-gstin">GSTIN: {{CUSTOMER_GSTIN}}</div>
        {{/if}}
      </div>
    </div>

    <!-- Items Table -->
    <table class="items-table">
      <thead>
        <tr>
          <th style="width: 3%;">#</th>
          <th style="width: 27%;" class="text-left">ITEM</th>
          <th style="width: 8%;">MRP</th>
          <th style="width: 8%;">HSN/SAC</th>
          <th style="width: 8%;">RATE/ITEM</th>
          <th style="width: 6%;">DISC(%)</th>
          <th style="width: 5%;">QTY</th>
          <th style="width: 10%;">TAXABLE VALUE</th>
          <th style="width: 8%;">CGST</th>
          <th style="width: 8%;">SGST</th>
          <th style="width: 9%;">AMOUNT</th>
        </tr>
      </thead>
      <tbody>
        {{{ITEMS_TABLE}}}
      </tbody>
    </table>

    <!-- Bottom Section with QR, Bank Details, and Totals -->
    <div class="bottom-section">
      <!-- QR Code Section -->
      {{#if QR_CODE}}
      <div class="qr-section">
        <div class="qr-title">SCAN & PAY</div>
        <img class="qr-code" src="{{QR_CODE}}" alt="Payment QR Code" />
        <div class="qr-note">Please Enter the Bill Number While Doing The Payment</div>
      </div>
      {{else}}
      <div class="qr-section"></div>
      {{/if}}

      <!-- Bank Details Section -->
      {{#if BANK_ACCOUNT_NUMBER}}
      <div class="bank-section">
        <div class="bank-title">BANK A/C DETAILS</div>
        {{#if BANK_NAME}}
        <div class="bank-row"><strong>{{BANK_NAME}}</strong></div>
        {{/if}}
        <div class="bank-row">AC/NO: {{BANK_ACCOUNT_NUMBER}}</div>
        {{#if BANK_IFSC_CODE}}
        <div class="bank-row">IFSC Code: {{BANK_IFSC_CODE}}</div>
        {{/if}}
      </div>
      {{else}}
      <div class="bank-section"></div>
      {{/if}}

      <!-- Totals Section (No Shipping Cost) -->
      <div class="totals-section">
        <div class="total-row highlight">
          <span>Sub Total</span>
          <span>{{SUBTOTAL}}</span>
        </div>
        <div class="total-row highlight">
          <span>Tax Amount</span>
          <span>{{TAX_AMOUNT}}</span>
        </div>
        <div class="total-row grand-total">
          <span>Total Amount</span>
          <span>{{TOTAL_AMOUNT}}</span>
        </div>
      </div>
    </div>

    <!-- Savings Banner (Optional) -->
    {{#if SAVINGS_AMOUNT}}
    <div class="savings-banner">
      Woo Hoo!!!! you saved â‚¹ {{SAVINGS_AMOUNT}} on this Order
    </div>
    {{/if}}

    <!-- Tax Breakdown -->
    <div class="tax-breakdown">
      <div class="tax-breakdown-title">Tax Breakup</div>
      <table class="tax-table">
        <thead>
          <tr>
            <th>HSN/SAC</th>
            <th>TAXABLE AMOUNT</th>
            <th>CENTRAL TAX RATE</th>
            <th>CENTRAL TAX AMOUNT</th>
            <th>STATE TAX RATE</th>
            <th>STATE TAX AMOUNT</th>
            <th>TOTAL TAX AMOUNT</th>
          </tr>
        </thead>
        <tbody>
          {{{TAX_BREAKDOWN_TABLE}}}
        </tbody>
      </table>
    </div>

    <!-- Delivery Note (Optional) -->
    {{#if DELIVERY_NOTE}}
    <div class="delivery-note">
      Delivery Note: {{DELIVERY_NOTE}}
    </div>
    {{/if}}

    <!-- Footer -->
    <div class="invoice-footer">
      [ Thank you for your Business ]<br>
      ( THIS IS A COMPUTER GENERATED RECEIPT AND DOES NOT REQUIRE PHYSICAL SIGNATURE )
    </div>

  </div>
</body>
</html>
